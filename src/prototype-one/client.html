<!DOCTYPE html>
<html>
<head>
	<title>Prototype One - Push Notification Server</title>
	<meta charset="utf-8">	
</head>
<body>
	<h1>Prototype One - Push Notification Server</h1>
	<p>Server pushes new information if data has changed:</p>
	<time></time>
	<div id="container">Changing xml-data data will update this content</div>
	<script src="http://localhost:8080/socket.io/socket.io.js"></script>
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script>
		// create websocket
		var socket = io.connect('http://localhost:8080');
		// on every message received print the new data inside #container

		socket.on('notification', function (data) {
			// convert the json string into a valid javascript object
			var _data = JSON.parse(data);
 
			$('#container').html(_data.test.sample);
			$('time').html('Last Update: ' + new Date());
		});
	</script>
</body>
</html>


